(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{80228:function(e,a,t){Promise.resolve().then(t.bind(t,14507))},14507:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var s=t(57437),r=t(2265),n=t(99376),i=t(27648),c=t(33145),o=t(60429),l=t(89345),d=t(66337),u=t(87769),m=t(42208),v=t(51817),p=t(39740),h=t(69064);function g(){let[e,a]=(0,r.useState)(""),[t,g]=(0,r.useState)(""),[f,y]=(0,r.useState)(!1),[x,b]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),N=(0,n.useRouter)();(0,r.useEffect)(()=>{if(j(!0),p.CZ.isAuthenticated()){N.push("/admin");return}},[N]);let E=async a=>{if(a.preventDefault(),!e||!t){h.Am.error("Por favor completa todos los campos");return}b(!0);try{let a=await p.CZ.login(e,t);a.success?(h.Am.success("\xa1Bienvenido al panel de administraci\xf3n!"),N.push("/admin")):h.Am.error(a.message||"Credenciales inv\xe1lidas")}catch(e){h.Am.error("Error de conexi\xf3n. Int\xe9ntalo de nuevo.")}finally{b(!1)}};return w?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(i.default,{href:"/",className:"inline-block mb-6",children:(0,s.jsx)("div",{className:"relative w-40 h-12 mx-auto",children:(0,s.jsx)(c.default,{src:"/images/CUENTY.png",alt:"CUENTY",fill:!0,className:"object-contain",priority:!0})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Panel de Administraci\xf3n"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Ingresa tus credenciales para continuar"})]}),(0,s.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-8 border border-slate-700",children:(0,s.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300 mb-2",children:"Correo Electr\xf3nico"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(l.Z,{className:"h-5 w-5 text-slate-400"})}),(0,s.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",placeholder:"admin@cuenty.com",disabled:x,required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Contrase\xf1a"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(d.Z,{className:"h-5 w-5 text-slate-400"})}),(0,s.jsx)("input",{type:f?"text":"password",id:"password",value:t,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-12 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",placeholder:"Tu contrase\xf1a",disabled:x,required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-300",disabled:x,children:f?(0,s.jsx)(u.Z,{className:"h-5 w-5"}):(0,s.jsx)(m.Z,{className:"h-5 w-5"})})]})]}),(0,s.jsx)(o.E.button,{type:"submit",disabled:x,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-4 rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:x?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)(v.Z,{className:"w-5 h-5 animate-spin mr-2"}),"Iniciando Sesi\xf3n..."]}):"Iniciar Sesi\xf3n"})]})}),(0,s.jsx)("div",{className:"text-center mt-8",children:(0,s.jsx)(i.default,{href:"/",className:"text-slate-400 hover:text-white transition-colors text-sm",children:"← Volver al sitio web"})})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white",children:"Cargando..."})})}},39740:function(e,a,t){"use strict";t.d(a,{CZ:function(){return r},MP:function(){return n}});let s=t(83464).Z.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let a=localStorage.getItem("admin_token");a&&(e.headers.Authorization="Bearer ".concat(a))}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var a;return(null===(a=e.response)||void 0===a?void 0:a.status)===401&&(localStorage.removeItem("admin_token"),window.location.href="/admin/login"),Promise.reject(e)});let r={login:async(e,a)=>{try{let t=await s.post("/api/admin/login",{email:e,password:a});if(t.data.token)return localStorage.setItem("admin_token",t.data.token),{success:!0,token:t.data.token};return{success:!1,message:"No token received"}}catch(e){var t,r;return{success:!1,message:(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Error de autenticaci\xf3n"}}},logout:()=>{localStorage.removeItem("admin_token"),window.location.href="/admin/login"},isAuthenticated:()=>!!localStorage.getItem("admin_token"),getProfile:async()=>{try{let e=await s.get("/api/admin/profile");return{success:!0,data:e.data}}catch(t){var e,a;return{success:!1,message:(null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al obtener perfil"}}}},n={getDashboard:async()=>{try{let e=await s.get("/api/admin/dashboard");return{success:!0,data:e.data}}catch(t){var e,a;return{success:!1,message:(null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al obtener estad\xedsticas"}}},getServices:async()=>{try{let e=await s.get("/api/admin/services");return{success:!0,data:e.data}}catch(t){var e,a;return{success:!1,message:(null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al obtener servicios"}}},createService:async e=>{try{let a=await s.post("/api/admin/services",e);return{success:!0,data:a.data}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al crear servicio"}}},updateService:async(e,a)=>{try{let t=await s.put("/api/admin/services/".concat(e),a);return{success:!0,data:t.data}}catch(e){var t,r;return{success:!1,message:(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Error al actualizar servicio"}}},deleteService:async e=>{try{return await s.delete("/api/admin/services/".concat(e)),{success:!0}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al eliminar servicio"}}},getPlans:async()=>{try{let e=await s.get("/api/admin/plans");return{success:!0,data:e.data}}catch(t){var e,a;return{success:!1,message:(null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al obtener planes"}}},createPlan:async e=>{try{let a=await s.post("/api/admin/plans",e);return{success:!0,data:a.data}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al crear plan"}}},updatePlan:async(e,a)=>{try{let t=await s.put("/api/admin/plans/".concat(e),a);return{success:!0,data:t.data}}catch(e){var t,r;return{success:!1,message:(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Error al actualizar plan"}}},deletePlan:async e=>{try{return await s.delete("/api/admin/plans/".concat(e)),{success:!0}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al eliminar plan"}}},getOrders:async e=>{try{let a=await s.get("/api/admin/orders",{params:e});return{success:!0,data:a.data}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al obtener \xf3rdenes"}}},getOrder:async e=>{try{let a=await s.get("/api/admin/orders/".concat(e));return{success:!0,data:a.data}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al obtener orden"}}},updateOrderStatus:async(e,a)=>{try{let t=await s.put("/api/admin/orders/".concat(e,"/status"),{status:a});return{success:!0,data:t.data}}catch(e){var t,r;return{success:!1,message:(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Error al actualizar estado"}}},getAccounts:async e=>{try{let a=await s.get("/api/admin/accounts",{params:e});return{success:!0,data:a.data}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al obtener cuentas"}}},createAccount:async e=>{try{let a=await s.post("/api/admin/accounts",e);return{success:!0,data:a.data}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al crear cuenta"}}},updateAccount:async(e,a)=>{try{let t=await s.put("/api/admin/accounts/".concat(e),a);return{success:!0,data:t.data}}catch(e){var t,r;return{success:!1,message:(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Error al actualizar cuenta"}}},deleteAccount:async e=>{try{return await s.delete("/api/admin/accounts/".concat(e)),{success:!0}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al eliminar cuenta"}}},getEvolutionConfig:async()=>{try{let e=await s.get("/api/admin/config/evolution");return{success:!0,data:e.data}}catch(t){var e,a;return{success:!1,message:(null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al obtener configuraci\xf3n"}}},saveEvolutionConfig:async e=>{try{let a=await s.post("/api/admin/config/evolution",e);return{success:!0,data:a.data}}catch(e){var a,t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Error al guardar configuraci\xf3n"}}}}},87769:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},51817:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},66337:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},89345:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])}},function(e){e.O(0,[399,64,625,971,117,744],function(){return e(e.s=80228)}),_N_E=e.O()}]);