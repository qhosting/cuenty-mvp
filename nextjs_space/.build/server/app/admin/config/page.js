(()=>{var e={};e.id=37,e.ids=[37],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},27074:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>o}),a(64872),a(12598),a(35866);var t=a(23191),r=a(88716),l=a(37922),i=a.n(l),n=a(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let o=["",{children:["admin",{children:["config",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,64872)),"/home/ubuntu/cuenty_mvp/nextjs_space/app/admin/config/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,12598)),"/home/ubuntu/cuenty_mvp/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/cuenty_mvp/nextjs_space/app/admin/config/page.tsx"],u="/admin/config/page",x={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/config/page",pathname:"/admin/config",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8779:(e,s,a)=>{Promise.resolve().then(a.bind(a,52606))},52606:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(10326),r=a(17577),l=a(16856),i=a(88378),n=a(62881);let c=(0,n.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var o=a(30361),d=a(41291);let u=(0,n.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),x=(0,n.Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),p=(0,n.Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var m=a(31215),h=a(80577),y=a(82355),g=a(40381);function b(){let[e,s]=(0,r.useState)({api_url:"",api_key:"",instance_name:""}),[a,n]=(0,r.useState)(!0),[b,j]=(0,r.useState)(!1),[f,v]=(0,r.useState)(null),N=async()=>{try{n(!0),v("loading");let e=await y.MP.getEvolutionConfig();e.success?(s(e.data||{api_url:"",api_key:"",instance_name:""}),v("success")):(v("error"),g.Am.error(e.message||"Error al cargar configuraci\xf3n"))}catch(e){v("error"),g.Am.error("Error de conexi\xf3n")}finally{n(!1)}},w=async s=>{if(s.preventDefault(),!e.api_url||!e.api_key||!e.instance_name){g.Am.error("Por favor completa todos los campos");return}try{new URL(e.api_url)}catch{g.Am.error("Por favor ingresa una URL v\xe1lida");return}j(!0);try{let s=await y.MP.saveEvolutionConfig(e);s.success?(g.Am.success("Configuraci\xf3n guardada correctamente"),v("success")):(g.Am.error(s.message||"Error al guardar configuraci\xf3n"),v("error"))}catch(e){g.Am.error("Error de conexi\xf3n"),v("error")}finally{j(!1)}},_=(e,a)=>{s(s=>({...s,[e]:a})),"loading"!==f&&v(null)};return t.jsx(h.l,{currentPath:"/admin/config",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Configuraci\xf3n del Sistema"}),t.jsx("p",{className:"text-slate-400",children:"Configura la integraci\xf3n con Evolution API para el env\xedo autom\xe1tico de credenciales"})]}),t.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-6 border border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500/20 to-purple-600/20 rounded-xl",children:t.jsx(i.Z,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Estado de la API"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Estado actual de la conexi\xf3n con Evolution API"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["loading"===f&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(c,{className:"w-5 h-5 text-blue-400 animate-spin"}),t.jsx("span",{className:"text-blue-400",children:"Verificando..."})]}),"success"===f&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(o.Z,{className:"w-5 h-5 text-green-400"}),t.jsx("span",{className:"text-green-400",children:"Configurado"})]}),"error"===f&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.Z,{className:"w-5 h-5 text-red-400"}),t.jsx("span",{className:"text-red-400",children:"Error de configuraci\xf3n"})]}),null===f&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.Z,{className:"w-5 h-5 text-yellow-400"}),t.jsx("span",{className:"text-yellow-400",children:"Sin configurar"})]})]})]})}),(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-6 border border-slate-700",children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Configuraci\xf3n de Evolution API"}),t.jsx("p",{className:"text-slate-400",children:"Ingresa los datos de conexi\xf3n para tu instancia de Evolution API"})]}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-slate-300 mb-3",children:[t.jsx(u,{className:"w-4 h-4"}),t.jsx("span",{children:"URL de la API *"})]}),t.jsx("input",{type:"url",value:e.api_url,onChange:e=>_("api_url",e.target.value),className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",placeholder:"https://api.evolution.com",required:!0,disabled:a||b}),t.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"URL completa de tu servidor Evolution API (incluye http:// o https://)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-slate-300 mb-3",children:[t.jsx(x,{className:"w-4 h-4"}),t.jsx("span",{children:"Clave de API *"})]}),t.jsx("input",{type:"password",value:e.api_key,onChange:e=>_("api_key",e.target.value),className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",placeholder:"Tu API Key de Evolution",required:!0,disabled:a||b}),t.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"Clave de autenticaci\xf3n para acceder a la API de Evolution"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium text-slate-300 mb-3",children:[t.jsx(p,{className:"w-4 h-4"}),t.jsx("span",{children:"Nombre de la Instancia *"})]}),t.jsx("input",{type:"text",value:e.instance_name,onChange:e=>_("instance_name",e.target.value),className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",placeholder:"cuenty-instance",required:!0,disabled:a||b}),t.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"Nombre \xfanico de tu instancia de WhatsApp en Evolution API"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 pt-6",children:[t.jsx(l.E.button,{type:"submit",disabled:a||b,whileHover:{scale:b?1:1.02},whileTap:{scale:b?1:.98},className:"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:b?(0,t.jsxs)(t.Fragment,{children:[t.jsx(c,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Guardando..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(m.Z,{className:"w-5 h-5"}),t.jsx("span",{children:"Guardar Configuraci\xf3n"})]})}),(0,t.jsxs)("button",{type:"button",onClick:N,disabled:a||b,className:"flex items-center space-x-2 bg-slate-700 text-slate-300 px-6 py-3 rounded-xl font-medium hover:bg-slate-600 transition-colors disabled:opacity-50",children:[t.jsx(c,{className:`w-5 h-5 ${a?"animate-spin":""}`}),t.jsx("span",{children:"Recargar"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-6 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(p,{className:"w-5 h-5 text-blue-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"\xbfQu\xe9 es Evolution API?"})]}),(0,t.jsxs)("div",{className:"space-y-3 text-slate-400 text-sm",children:[t.jsx("p",{children:"Evolution API es una soluci\xf3n que permite integrar WhatsApp con aplicaciones web para el env\xedo automatizado de mensajes."}),t.jsx("p",{children:'Una vez configurada, CUENTY podr\xe1 enviar autom\xe1ticamente las credenciales de acceso a los clientes v\xeda WhatsApp cuando sus pedidos sean marcados como "entregados".'})]})]}),(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-slate-800/50 backdrop-blur-xl rounded-2xl p-6 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:t.jsx(i.Z,{className:"w-5 h-5 text-purple-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Instrucciones de Configuraci\xf3n"})]}),(0,t.jsxs)("div",{className:"space-y-3 text-slate-400 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[t.jsx("span",{className:"text-blue-400 font-medium",children:"1."}),t.jsx("p",{children:"Instala y configura tu servidor Evolution API"})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[t.jsx("span",{className:"text-blue-400 font-medium",children:"2."}),t.jsx("p",{children:"Crea una instancia de WhatsApp en tu panel"})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[t.jsx("span",{className:"text-blue-400 font-medium",children:"3."}),t.jsx("p",{children:"Obt\xe9n la URL base y tu API Key del servidor"})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[t.jsx("span",{className:"text-blue-400 font-medium",children:"4."}),t.jsx("p",{children:"Ingresa los datos en este formulario y guarda"})]})]})]})]}),t.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx(d.Z,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-yellow-400 font-medium mb-2",children:"Importante"}),(0,t.jsxs)("div",{className:"text-yellow-200/80 text-sm space-y-2",children:[t.jsx("p",{children:"• Aseg\xfarate de que tu servidor Evolution API est\xe9 funcionando correctamente antes de configurar"}),t.jsx("p",{children:"• La instancia de WhatsApp debe estar conectada y verificada"}),t.jsx("p",{children:"• Guarda estos datos de forma segura, son necesarios para el funcionamiento del sistema"})]})]})]})})]})})}},41291:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30361:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},31215:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},64872:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`/home/ubuntu/cuenty_mvp/nextjs_space/app/admin/config/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[276,17,928,765,554,869],()=>a(27074));module.exports=t})();